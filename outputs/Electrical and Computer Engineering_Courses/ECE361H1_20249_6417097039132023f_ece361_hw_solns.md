## Page 1

hw1
  2
hw1-sol
  3
hw2-sol
  5
hw3
  7
hw3-sol
  13
hw4
  18
hw4-sol
  20
hw5
  25
hw5-sol
  28
hw6
  33
hw6-sol
  35


## Page 2

ECE 361H1  FALL  2023           	                                                      Homework 1, Part 1 
GOAL:
The main goals of the module on introduction to computer networks is to gain a general understanding of what 
communication protocols and computer networks are, to gain a historical perspective of how they evolved, and to 
get familiar with technologies related to computer networks. There will be a Part 2 assigned before this coming 
Friday focusing on learning analysis methods to help you understand and answer basic questions related to network 
performance. 
Remember that homework assignment are NOT graded; they are tools to help you do well in quizzes and midterms.
READING ASSIGNMENT:
You should reach Chapter 1 of Textbook 1 (Sections 1.1 to 1.4) and Reference Paper 1. 
PROBLEMS: 
Please answer the following questions based on lecture material and reading assignments by Friday Sept. 22. 
Solutions will be posted by 1pm  on that day.
1.
What are key differences between the original ARPANET architecture and today’s Internet insofar as 
communication protocols is concerned?
2.
What do you think of the size of the TCP address space to denote processes (remember that “TCP” means 
Transmission Control Program in Reference Paper 1?
3.
Do you find any specific reason why TCP was proposed to support both network interconnection and process-
to-process communication?
4.
 What do you think about the fact that  “TCP" in Reference Paper 1 was partitioned into the Internet Protocol 
(IP) and  today’s Transmission Control Protocol (TCP)? Why do you think this was done? Would you have 
done something differently?
5.
Do you think splitting TCP into TCP and IP was necessary for a more scalable Internet? Please justify your 
answer.
6.
Search  the Internet for information about the Open Systems Interconnection model (OSI model). Discuss the 
motivation for its development,  and describe some pros and cons.
7.
Search the Internet for information about “communication protocol” and discuss anything that catches your 
attention related to our discussion of communication protocols in class.
8.
Search the Internet for information about “reinforcement learning” (RL). You should get to nice figures pretty 
quickly. What do you find interesting about agents described in RL compared to our discussion of protocol 
agents?
9.
Search the Internet (and in our textbooks) for descriptions of access links (technologies) to the Internet. 
Classify some of these technologies as suitable for home access, connecting an enterprise or establishing wide-
area wireless access. 
10. Search for the term “Ethernet” and discuss what you find interesting about the evolution of this technology. We 
will cover the algorithms behind it later in the course, so knowing about its evolution is important.
hw1
2


## Page 3

ECE 361H1  FALL  2023           	                                           Solutions to Homework 1 
NOTE: 
There was only one part for Homework 1. We did not cover network performance in time to extend the homework 
assignment. The deadline for submissions was extended to Sunday at 12 noon.
SOLUTIONS TO ROBLEMS: 
All questions can be answered correctly in many different ways. The following are sample answers.
 
1.
What are key differences between the original ARPANET architecture and today’s Internet insofar as 
communication protocols is concerned?
A: The ARPANET architecture used three main protocols: host-to-IMP, IMP-to-IMP, and host-to-host protocols. 
The Internet replaced the first two with IP and TCP and UDP replaced the host-to-host protocol. Protocol layers 
were not quite formed at the time.
2.
What do you think of the size of the TCP address space to denote processes (remember that “TCP” means 
Transmission Control Program in Reference Paper 1?
A: Note that a remote protocol must be assigned an address with a network component of only 8 bits and a TCP 
(process) identifier of 16 bits. As we will discuss, IPv4 today uses 32 bits to denote network locations and an 
additional port number to denote a process at a particular network location. Furthermore, the address space of IPv4 
is considered to be too small, which has led to the definition. And deployment of IPv6 with much larger addresses. 
It is clear that Cerf and Kahn did not see that 256 networks would be insufficient.
3.
Do you find any specific reason why TCP was proposed to support both network interconnection and process-
to-process communication?
A: One view is that TCP was the protocol that would  run at end hosts and gateways and replace the host-to-IMP 
and the IMP-to-IMP protocols. A gateways would translate between the network protocol used in a network to the 
protocol used in another network when forwarding packets across such networks. TCP was an interprocess 
communication  protocol in the sense that it would be spoken by processes running at hosts and intermediate 
gateways between them. 
4.
 What do you think about the fact that  “TCP" in Reference Paper 1 was partitioned into the Internet Protocol 
(IP) and  today’s Transmission Control Protocol (TCP)? Why do you think this was done? Would you have 
done something differently?
A: This became  necessary for two main reasons. The first reason was that different types of service had to be  
offered to applications running at  end hosts; slitting the Transmission Control Program into TCP (and then UDP) 
on top of IP  as we will see enabled this. The second reason has to do with gateways and then routers not really 
having to  address the end-to-end transport issues associated with the associations between remote processes 
running at end hosts.
As we will see, TCP and UDP reuse some of the heads information in the IP header. This did not have to be the 
case at all, especially today given the amount of bandwidth and memory available.
5.
Do you think splitting TCP into TCP and IP was necessary for a more scalable Internet? Please justify your 
answer.
A: In principle yes. The move increased the address space available to denote associations between processes, 
which we will see state the IP address and port number of each process.
6.
Search  the Internet for information about the Open Systems Interconnection model (OSI model). Discuss the 
motivation for its development,  and describe some pros and cons.
A:  The OSI model was developed in the 1970s as a conceptual model or taxonomy to help describe the flow of 
information in computer networks that were evolving at the time. A major  benefit of such a taxonomy was for 
multiple vendors to agree on either the same protocols or methods for protocol interoperation. You can take a look 
at: https://en.wikipedia.org/wiki/OSI_model and other open-source references.
hw1-sol
3


## Page 4

ECE 361H1  FALL  2023           	                                           Solutions to Homework 1 
7.
Search the Internet for information about “communication protocol” and discuss anything that catches your 
attention related to our discussion of communication protocols in class.
A: One item to note (see for example https://en.wikipedia.org/wiki/Communication_protocol ) is that 
“communication protocol is usually associated with data networks.  However, people and animals also use 
communication protocols, as we discussed in class.
8.
Search the Internet for information about “reinforcement learning” (RL). You should get to nice figures pretty 
quickly. What do you find interesting about agents described in RL compared to our discussion of protocol 
agents?
A: The point of this question is that we can view the nodes executing a communication protocols as carrying out 
some form of reinforcement learning (RL). This type of learning can take place fast enough for any communication 
protocol to take advantage of perceived rewards and information from the environment. Other types of learning 
take too long and require “training,” which makes them less suitable as a viable approach to redesign  
communication protocols.
9.
Search the Internet (and in our textbooks) for descriptions of access links (technologies) to the Internet. 
Classify some of these technologies as suitable for home access, connecting an enterprise or establishing wide-
area wireless access. 
A: An example is:  Dial-up modem over telephone line for Internet access at homes; DSL over telephone line for 
Internet access at home or small offices; Cable to HFC for Internet access at home; and 100 Mbps switched 
Ethernet for Internet access in enterprises. 
10. Search for the term “Ethernet” and discuss what you find interesting about the evolution of this technology. We 
will cover the algorithms behind it later in the course, so knowing about its evolution is important.
A: Ethernet was developed in the 1970s at Xerox PARC and was a contention-based channel access method used 
for multiple-access cables. Over the years it has evolved into a collision-free approach based on switches. See 
https://en.wikipedia.org/wiki/Ethernet and other sources. However, the original channel-access approach may see a 
resurgence as a result of automotive networks in which the number of cables must be reduced, and wireless 
networks in which nodes are capable of full-duplex operation. We will discuss this more later.
hw1-sol
4


## Page 5

ECE 361H1  FALL  2023           	                                         HW 2: Sample Questions 1 
GOAL:
The main goals of this part of the module is to help you get familiar with analysis methods used to study the 
performance of communication protocols.
Questions for midterm 1 will come from material covered in slides and reading assignment, which includes the 
homework. 
SAMPLE PROBLEMS: 
The following problems are examples of the type of problems that you can expect in midterm 1 that cover 
probability and definitions of performance components. Fair midterm questions would have a subset of the the 
subquestions asked in the following problems.
1. Suppose nodes (users) connected to a switch  share a 100 Mbps link going out of the switch. Also suppose each 
user transmits at 50 Mbps when transmitting, but each user transmits only 20 percent of the time. Assume that 
users transmit independently of each other.
(a) How many users can be supported using circuit switching?  TWO
(b)How many users can be supported using packet switching if they tolerate long delays? ANY NUMBER either 
assuming infinite memory or that users accept their packets to be dropped if the switch has  a large but finite 
memory.
(c) What is the maximum number of users that can be supported with packet switching while incurring no queuing 
delays? TWO OR FEWER
(d)What is the probability that a given user is transmitting? p = 0.2, and 1- p = 0.8 is the probability of being silent.
(e) Assume that there are 10 users and packet switching is used. What is the probability that there are 3 users 
transmitting?  C(10, 3) (0.2)^3 (0.8)^7
(f) Assume that there are 10 users and packet switching is used. What is the probability that no queuing of 
transmissions occurs?  
No queuing occurs if 0, 1 or 2 users transmit concurrently. Each of these outcomes is mutually exclusive.  Hence 
we have:  C(10, 0) (0.2)^0 (0.8)^10 + C(10, 1) (0.2)^1 (0.8)^9 + C(10, 2) (0.2)^2 (0.8)^8 = P
(g)Assume that there are 10 users and packet switching is used. What is the probability that queuing of 
transmissions occurs? 
The event is the complement of the event of interest in the previous question. So, 1 - P 
2. How long does it take a packet of length 1,000 bytes to propagate over a link of distance 2,500 km, propagation 
speed 2.5 x 108 m/s, and transmission rate 2 Mbps? More generally, how long does it take a packet of length L to 
propagate over a link of distance d, propagation speed s, and transmission  rate R bps? Does this delay depend on 
packet length? Does this delay depend on transmission rate?
10msec; d/s; no; no 
3. What are the five layers in the Internet protocol stack? 
The five layers in the Internet protocol stack are – from top to bottom – the application layer, the transport layer, the 
network layer, the link layer, and the physical layer.  
hw2-sol
5


## Page 6

ECE 361H1  FALL  2023           	                                         HW 2: Sample Questions 1 
4. Suppose that a node transmits packets over a link in which the probability of correct transmission is 0.1. Assume 
that any transmission succeeds  independently of any prior transmission.
(a) What is the probability that the node has to transmit a packet 10 times for it to be received correctly?                
(0.1)(0.9)^9
(b) What is the average number of trans missions needed for any packet to be received correctly? 1/0.1
5. Suppose two hosts, A and B, are separated by 20,000 kilometers and are connected by a direct link of R = 5 
Mbps. Suppose the propagation speed over the link is 2.5 x 108 meters/sec. 
(a) What is the bandwidth-delay product?  400,000 bits
(b)Consider sending a file of 800,000 bits from host A to host B as a single message. What is the maximum number 
of bits that will be in the link at any given time?  400,000 bits the link memory…
(c) Provide an interpretation of the bandwidth-delay product based on the above answers.  The maximum number 
of bits that can be in the link 
(d)What is the width (in meters) of a bit in the link? The width of a bit = length of link / bandwidth-delay product, 
so 1 bit is 125 meters long 
(e) Derive a general expression for the width of a bit in terms of the propagation speed s, the transmission rate R, 
and the length of the link m.   s/R 
6. Suppose there is a10 Mbps microwave link between a geostationary satellite (which is  36,000 kilometers away 
from earth surface)  and its base station on Earth. Every minute the satellite takes a digital photo and sends it to the 
base station. Assume a propagation speed of 2.4 x 108 meters/sec.
(a) What is the propagation delay of the link?  150msec
(b) What is the bandwidth-delay product of the link? 1,500,000 bits
c. Let x denote the size of the photo. What is the minimum value of x for the microwave link to be continuously 
transmitting?  600,000,000 bits 
7. Suppose that a number of transmitters send packets into a channel and can be modeled as a Poisson source with 
parameter lambda = 5 packets/sec. 
(a) What is the average number of packets sent into the channel in a period of time of 10 seconds? 50
(b)What is the probability that no packets are sent during a window of time of 1 second? e^{-5}
hw2-sol
6


## Page 7

ECE 361H1  FALL  2023           	                                                              Homework 3
GOAL:
The main goals of this part of the module is to help you understand classic MAC protocols and how to analyze 
them. You are also asked to read about technologies being used for local area networks (LAN) and wireless LANs 
(WLAN). We focus on the analysis during lectures and will rely on your reading about technologies.
READING:
Analysis of MAC protocols: Please read the following pages from the Rom and Sidi book: Pages 1 to 7, 47 to 53, 
79 to 83 and 94 to 98. This reading complements what we cover in lectures regarding the analysis of ALOHA, 
CSMA, and CSMA/CD.  You probably need only a cursory look at the book if you understand the lecture material, 
which I hope is easier to follow. However, please go over the treatment of slotted ALOHA carefully; you will need 
to understand that analysis to address Problem 2. For convenience, I have included my version of the  analysis of 
slotted ALOHA at the end of this homework assignment.
Technology associated with : Please read  the following pages from Textbook 1: Pages 77 to 83 (Section 2.6), 
pages 83 to 94 (Sections 2.7.1, 2.72. and 2.7.3).
ANALYSIS AND DESIGN PROBLEMS: 
Note: A typical quiz question would consist of computing the average busy period of CSMA or CSMA/CD, or 
slotted ALOHA, for example, not the entire throughput of a protocol.
1. Average delay in ALOHA with priority ACKs and propagation delays: 
Consider  Figure 1. Compute the average delay incurred in the successful transmission of a data packet using the 
same approach discussed in class for pure ALOHA. Assume that the average backoff delay is  and nodes sending 
packets to the channel act as a Poisson source with parameter . An ACK lasts  seconds,  the propagation delay 
between any two nodes is , and  the turnaround time is  seconds.
Figure 1: Behavior of ALOHA with priority ACKs and turnaround times
2. Average delay in CSMA with priority ACKs and propagation delays: 
Compute the average delay incurred in the successful transmission of a data packet in CSMA with priority ACKs 
using the same approach discussed in class for pure ALOHA. Assume that the average backoff delay is 
 and 
nodes sending packets to the channel act as a Poisson source with parameter . Hint: You know the average value 
of a busy period when collisions happen and the time it takes to send a successful packet.
3. Slotted ALOHA with priority ACKs and propagation delays: 
Please review the method covered in pages  50 to 53 I Rom and Sidi’s book. Notice that time slots in the derivation 
of the throughput of slotted ALOHA have the same length as a packet length, which is a constant. There is no room 
to account for propagation delays and ACKs are assumed to take place in no time, or to be transmitted without 
errors over a secondary orthogonal channel such that a sender knows whether its transmitted packet succeeds.
Consider Figure 2, which illustrates the differences between the ideal slotted ALOHA model and a model in which 
ACKs, propagation delays and turnaround times are taken into account. The figure assumes that an ACK for a 
¯B
λ
α
τ
ω
100δ
λ
hw3
7


## Page 8

ECE 361H1  FALL  2023           	                                                              Homework 3
successful data packet is sent in the same time slot and all data packets have the same length. Assume the same 
values for packet length, ACK length, propagation delay and turnaround time of Problem 1 to compute the 
throughput of slotted ALOHA with ACKs. You should also assume that the duration of a time slot equals the 
following: 
. This accounts for all the overhead.  Notice that time slots with collisions are 
completely wasted and time slots with successful packets are used for useful data only for the duration of a data 
packet. Hint: The main difference is in the reduced utilization period lasting less than a time slot and the fact that 

Figure 2: Effect of ACKs, propagation delays and turnaround times in slotted ALOHA 
4. Maximum number of users in pure ALOHA:
A group of N stations share a 56-kbps pure ALOHA channel. Each station outputs a 1000-bit frame on average 
once every 100 sec, even if the previous one has not yet been sent (e.g., the stations can buffer outgoing frames). 
What is the maximum value of N? 
5. More on ALOHA:
Consider Figure 1 and assume that the normalized traffic load into the channel is G. What is the average number of 
transmissions needed from the same node for its packet to be transmitted successfully? Hint: You already saw that 
in a prior question.  
5. Design—Adding a priority packet transmission  in CSMA:
Consider the analysis we did for CSMA with priority ACKs. Propose a modification of CSMA that extends the 
notion of priority ACKs to allow a second transmitter and its receiver to send an additional packet followed by a 
priority ACK without contention after the transmission of a priority ACK.  Do you think your approach could be 
extended to a large number of transmissions and not just two data packets after a success?
TECHNOLOGY  PROBLEMS: 
Note: A typical quiz question would consist of asking you about important aspects of standard communication 
protocols.
1.  What is the baud rate of classic 10-Mbps Ethernet?  
2. Why is it that 802.11 frame format  contains four MAC addresses?
3. What steps are involved ins electing an Access Point in 802.11? 
4. What is the role of Access Points and the distribution system in 802.11? 
T = δ + α + 2τ + ω
T > δ
hw3
8


## Page 9

ECE 361H1  FALL  2023           	                                                              Homework 3
5. Ethernet frames must be at least 64 bytes long to ensure that the transmitter is still going in the event of a 
collision at the far end of the cable. Fast Ethernet has the same 64-byte minimum frame size but can get the bits out 
ten times faster. How is it possible to maintain the same minimum frame size? 
6. Sketch the Manchester encoding on a classic Ethernet for the bit stream 0001110101. 
7. Why is it that every Ethernet frame must be at least 512 bits (64 bytes) long? 
8. What is a collision domain in Ethernet?  
hw3
9


## Page 10

1
Throughput of Slotted ALOHA
	 Idle, busy and utilization periods are multiples of time 
slots.
	 We need to count the time slots in each average 
period and we are done.
	 Average length of idle period:
	
I = number of slots in idle period 
time
arrivals
transmissions
start
no 
arrivals
idle period
starts
2
Idle Period in Slotted ALOHA
T
e
no
P
some
P
slot
one
I
P
λ
−
−
=
−
=
=
=
1
 
slot}
in 
 
arrive
 
pkts
 
{
1
  
     
          
          
slot}
 
idle
 
in the
  
arrive
  
pkts
 
{
}
 
{
I  has one slot:
time
there is a prior busy period
... at least one arrival!
time
I  has two slots:
... at least one arrival!
no arrivals
)
1(
 
      
          
          
 
2}
slot 
in 
 
pkts
 
some
{
1}
slot 
in 
 
pkts
 
no
{
 
      
          
          
slot}
 
2nd
in  
 
pkts
 
some
 
and
slot 
first 
in 
 
pkts
 
no
{
}
 
{
T
T
e
e
P
P
P
slots
two
I
P
λ
λ
−
−
−
=
=
×
=
=
=
=
3
Idle Period in Slotted ALOHA
time
I has k slots:
...
no arrivals
1
k-1
k
… some arrivals
 
2}
slot 
in 
 
pkts
 
some
{
}
1
slot 
in 
 
pkts
 
no
{
...
1}
slot 
in 
 
pkts
 
no
{
 
 
slot}
last 
in 
  
pkts
 
some
 
and
 
slots
 1
first 
in 
 
pkts
 
no
{
}
 
{
P
k
P
P
k
P
slots
k
I
P
×
−
×
×
=
−
=
=
€ 
P{I = k slots} =  e−λT
(
)
k−1(1−e−λT )
This corresponds to the Geometric r.v., and we know its average value to be 1/
p, with p being the probability of success. 
Success now consists of ending the idle period!  Therefore:
)
1(
1
T
e
I
λ
−
−
=
hw3
10


## Page 11

4
Busy Period in Slotted ALOHA
✓We follow the same approach:
✓Solve the problem with the Geometric random variable
time
B  has k slots:
...
some arrivals
1
k-1
k
… no arrivals
 
2}
slot 
in 
 
pkts
 
no
{
}
1
slot 
in 
 
pkts
 
some
{
...
1}
slot 
in 
 
pkts
 
some
{
 
 
slot}
last 
in 
  
pkts
 
no
 
and
 
slots
 1
first 
in 
 
pkts
 
some
{
}
 
{
P
k
P
P
k
P
slots
k
B
P
×
−
×
×
=
−
=
=
€ 
P{B= k slots} =  1−e−λT
(
)
k−1(e−λT )
T
T
e
e
B
λ
λ
=
=
−
1
prior slot considered
in idle period 
5
Utilization Period
✓Here we have to make use of conditional probability!
✓A busy period has good and bad time slots (transmission 
periods).
collision
time
sum
The probability that a slot (transmission period) in the 
current busy period is successful is the probability that only 
one packet arrives in the prior slot, given that there is a 
busy period
Arrivals are Poisson, so we make use of the definition of that
random variable as follows….
6
Utilization Period
T
T
S
e
Te
T
some
P
T
one
P
T
some
P
T
some
and
T
one
P
T
some
T
P
P
λ
λ
λ
−
−
−
=
=
=
=
1
}
in 
 
arrivals
 
{
}
in 
 
arrival
 
{
     
}
in 
 
arrivals
 
{
}
in 
 
arrivals
 
 
 
in 
 
arrival
 
{
     
}
in 
 
arrivals
 
|
in 
 
arrival
 
one
{
The probability that a given slot within a busy period  is successful is:
The portion of an average  busy period used to send useful data equals the 
length of the average busy period in slots,  times the probability that any 
given slot is successful.
T
T
T
T
S
e
T
e
Te
e
P
B
U
λ
λ
λ
λ
λ
λ
−
−
−
−
=
⎟⎟
⎠
⎞
⎜⎜
⎝
⎛
−
=
×
=
1
1
We can use the Binomial random variable to proof the above! 
hw3
11


## Page 12

7
Throughput of Slotted ALOHA
We now just substitute B,I, and U  in S:
T
T
T
T
Te
e
e
e
T
B
I
U
S
λ
λ
λ
λ
λ
λ
−
−
−
=
+
−
⎟
⎠
⎞
⎜
⎝
⎛
−
=
+
=
1
1
1
1
Maximum throughput is 
twice that of ALOHA.
This occurs when G = 1
T
G
with
Ge
S
G
λ
=
=
−
  
hw3
12


## Page 13

ECE 361H1  FALL  2023           	                                                              Homework 3
GOAL:
The main goals of this part of the module is to help you understand classic MAC protocols and how to analyze 
them. You are also asked to read about technologies being used for local area networks (LAN) and wireless LANs 
(WLAN). We focus on the analysis during lectures and will rely on your reading about technologies.
READING:
Analysis of MAC protocols: Please read the following pages from the Rom and Sidi book: Pages 1 to 7, 47 to 53, 
79 to 83 and 94 to 98. This reading complements what we cover in lectures regarding the analysis of ALOHA, 
CSMA, and CSMA/CD.  You probably need only a cursory look at the book if you understand the lecture material, 
which I hope is easier to follow. However, please go over the treatment of slotted ALOHA carefully; you will need 
to understand that analysis to address Problem 2.
Technology associated with : Please read  the following pages from Textbook 1: Pages 77 to 83 (Section 2.6), 
pages 83 to 94 (Sections 2.7.1, 2.72. and 2.7.3).
ANALYSIS AND DESIGN PROBLEMS: 
Note: A typical quiz question would consist of computing the average busy period of CSMA or CSMA/CD, or 
slotted ALOHA, for example, not the entire throughput of a protocol.
1. Average delay in ALOHA with priority ACKs and propagation delays: 
Consider  Figure 1. Compute the average delay incurred in the successful transmission of a data packet using the 
same approach discussed in class for pure ALOHA. Assume that the average backoff delay is  and nodes sending 
packets to the channel act as a Poisson source with parameter . An ACK lasts  seconds,  the propagation delay 
between any two nodes is , and  the turnaround time is  seconds.
Figure 1: Behavior of ALOHA with priority ACKs and turnaround times
A:  Using the same approach discussed in class, with probability 
, a data-packet transmission is 
successful and incurs 
 seconds. On the other hand, with probability 
 the packet collides with other packets and the failed transmission incurs 
 
seconds to transmit the packet and the turn around to decide (in 0 time) that no ACK is being received.
Hence, the equation for the average delay is: 
.
Solving for  we have:

 

¯B
λ
α
τ
ω
PS = e−λδ
δ + τ + ω + α + τ = δ + α + ω + 2τ
1 −PS = 1 −e−λδ
δ + τ + ω + ¯B
¯D = PS(δ + α + ω + 2τ) + (1 −PS)(δ + τ + ω + ¯B + ¯D)
¯D
¯DPS = PS(δ + α + ω + 2τ) + (1 −PS)(δ + τ + ω + ¯B)
¯D = δ + α + ω + 2τ + P−1
S (δ + τ + ω + ¯B) −(δ + τ + ω + ¯B)
¯D = eλδ(δ + τ + ω) + (eλδ −1) ¯B + α + τ
hw3-sol
13


## Page 14

ECE 361H1  FALL  2023           	                                                              Homework 3
This makes sense. The first term is the delay of one data packet, its propagation and a turnaround time incurred by 
all failed transmissions and the final successful transmission. The second term is the backoff delay incurred by each 
failed transmission.  The last term accounts for the ACK to the successful transmission  and its propagation.
2. Average delay in CSMA with priority ACKs and propagation delays: 
Compute the average delay incurred in the successful transmission of a data packet in CSMA with priority ACKs 
using the same approach discussed in class for pure ALOHA. Assume that the average backoff delay is 
 and 
nodes sending packets to the channel act as a Poisson source with parameter . Hint: You know the average value 
of a busy period when collisions happen and the time it takes to send a successful packet.
A: with probability 
, a data-packet transmission is successful and incurs 
 seconds. On the other hand, with probability 
 the 
packet collides with other packets and the failed transmission incurs 
 seconds to transmit the 
packet and the turn around to decide (in 0 time) that no ACK is being received.
Hence, the equation for the average delay is: 
.
Solving for  we have:

 

3. Slotted ALOHA with priority ACKs and propagation delays: 
Please review the method covered in pages  50 to 53 I Rom and Sidi’s book. Notice that time slots in the derivation 
of the throughput of slotted ALOHA have the same length as a packet length, which is a constant. There is no room 
to account for propagation delays and ACKs are assumed to take place in no time, or to be transmitted without 
errors over a secondary orthogonal channel such that a sender knows whether its transmitted packet succeeds.
Consider Figure 2, which illustrates the differences between the ideal slotted ALOHA model and a model in which 
ACKs, propagation delays and turnaround times are taken into account. The figure assumes that an ACK for a 
successful data packet is sent in the same time slot and all data packets have the same length. Assume the same 
values for packet length, ACK length, propagation delay and turnaround time of Problem 1 to compute the 
throughput of slotted ALOHA with ACKs. You should also assume that the duration of a time slot equals the 
following: 
. This accounts for all the overhead.  Notice that time slots with collisions are 
completely wasted and time slots with successful packets are used for useful data only for the duration of a data 
packet. Hint: The main difference is in the reduced utilization period lasting less than a time slot and the fact that 

Figure 2: Effect of ACKs, propagation delays and turnaround times in slotted ALOHA 
100δ
λ
PS = e−λ(τ+ω)
δ + τ + ω + α + τ = δ + α + ω + 2τ
1 −PS = 1 −e−λ(τ+ω)
δ + τ + ω + 100δ
¯D = PS(δ + α + ω + 2τ) + (1 −PS)(δ + τ + ω + 100δ + ¯D)
¯D
¯DPS = PS(δ + α + ω + 2τ) + (1 −PS)(δ + τ + ω + 100δ )
¯D = δ + α + ω + 2τ + P−1
S (δ + τ + ω + 100δ ) −(δ + τ + ω + 100δ )
¯D = eλ(τ+ω)(δ + τ + ω) + (eλ(τ+ω) −1)100δ + α + τ
T = δ + α + 2τ + ω
T > δ
hw3-sol
14


## Page 15

ECE 361H1  FALL  2023           	                                                              Homework 3
A:  The answer is pretty straightforward, and is 
 multiplied by the throughput of basic 
slotted ALOHA. This is because only the fraction 
 of a successful time slot is used for good data.  Hence,

The following provides more details just to help you understand  better and review. You can skip if you understood 
basic slotted ALOHA from the  homework reading.
The average length of an idle period in number of times slots is the same as in the basic case of slotted ALOHA, 
i.e., 
 in number of time slots, each lasting T seconds.
The average length of a busy period  in number of time slots is also the same as in the basic case of slotted 
ALOHA:
 in number of time slots, each lasting T seconds.
The tricky part of the answer is the utilization period. 
The average length of the utilization period is the portion of time of an average busy period spent with useful data. 
Given that we have computed , we know that only those time slots without collisions can be used for useful data, 
and the average number of time slots in a busy period used for data is then  times the probability that a time slot in 
a busy period is successful. 
Again, we KNOW that there is a busy period going on when any one of them is successful, which is why we use 
the conditional probability of only one arrival in T seconds given that there must be some arrivals in those T 
seconds (see the notes I included at the end of the HW assignment). This means:
 
…. and remember that the numerator is obtained because the intersection of having some arrivals in T seconds and 
one arrival in T seconds equals the event of having one arrival in T seconds.
So, the number of time slots in an average utilization period is: 
 time slots
All of the above is the same as in basic slotted ALOHA. However, in this problem, only a fraction of a successful 
time slot is used to transmit data packet, namely 
.  Hence,

Substituting we have

4. Maximum number of users in pure ALOHA:
A group of N stations share a 56-kbps pure ALOHA channel. Each station outputs a 1000-bit frame on average 
once every 100 sec, even if the previous one has not yet been sent (e.g., the stations can buffer outgoing frames). 
What is the maximum value of N? 
A:  With pure ALOHA, the maximum utilization of the bandwidth is 0.184 x 56 apbs, or 10.3 kbps. Each station 
needs 10 bps, so N = 10300/10 = 1030 stations.   
δ /T = δ /(δ + ω + α + 2τ)
δ /T
S = (
δ
δ + ω + α + 2τ ) λTe−λT
¯I =
1
1 −e−λT
¯B =
1
e−λT = eλT
¯B
¯B
PS = λTe−λT
1 −e−λT
PS ¯B = eλT
(
λTe−λT
1 −e−λT) =
λT
1 −eλT
δ /T = δ /(δ + ω + α + 2τ)
¯U = (
δ
δ + ω + α + 2τ ) (
λT
1 −e−λT )
S = (
δ
δ + ω + α + 2τ ) λTe−λT
hw3-sol
15


## Page 16

ECE 361H1  FALL  2023           	                                                              Homework 3
5. More on ALOHA:
Consider Figure 1 and assume that the normalized traffic load into the channel is G. What is the average number of 
transmissions needed from the same node for its packet to be transmitted successfully? Hint: You already saw that 
in a prior question.  
A: It is 
 ….which is the inverse of the probability of success that a transmission of the packet is successful.
5. Design—Adding a priority packet transmission  in CSMA:
Consider the analysis we did for CSMA with priority ACKs. Propose a modification of CSMA that extends the 
notion of priority ACKs to allow a second transmitter and its receiver to send an additional packet followed by a 
priority ACK without contention after the transmission of a priority ACK. 
A: This question is open ended, given that many designs are feasible.
One simple example consists of three rules that modify CSMA with priority ACKs:
1) After a node hears a successful data packet, the node applies a guard time long enough to allow an ACK to that 
data packet, plus another data packet (longest allowed length) and the ACK to that data packet. In our model, 
this time would be 

2) If a node has a new local packet to send during a guard time, it backs off.
3) A node that transmits an ACK to a first data packet is allowed to transmit its own data packet to any other node, 
which must send an ACK but is not allowed to also send a data packet.
You notice that using memory capacity at the nodes  can really help nodes establish a collision-free transmission 
schedule. This is the spirit of recent MAC protocols. One example of them is ALOHA-NUI. If you are interested, a 
paper describing ALOHA-NUI can be found here:
https://www.sciencedirect.com/science/article/pii/S1389128623004048
Note: ALOHA-NUI is NOT part of the course material.
TECHNOLOGY  PROBLEMS: 
Note: A typical quiz question would consist of asking you about important aspects of standard communication 
protocols.
1.  What is the baud rate of classic 10-Mbps Ethernet?  
A: The classic Ethernet uses Manchester encoding, which means that it has 2 signal periods per bit sent. The baud 
rate is twice the data rate, or 20 megabaud.
2. Why is it that 802.11 frame format  contains four MAC addresses?
A: See Pages 92 and 93 of textbook 1.
3. What steps are involved ins electing an Access Point in 802.11? 
A: The answer is on Page 91 of textbook 1. The steps are: (a) The node sends a Probe frame, (b)  all APs within 
reach reply with a Probe Response frame, (c) the node selects one of the access points and sends that AP an 
Association Request frame, and (d) the AP replies with an Association Response frame. 
4. What is the role of Access Points and the distribution system in 802.11? 
e2G
ω + α + τ + δ + τ + ω + α + τ = δ + 2(α + ω) + 3τ
hw3-sol
16


## Page 17

ECE 361H1  FALL  2023           	                                                              Homework 3
A: See Pages 90 and 91 of textbook 1.
5. Ethernet frames must be at least 64 bytes long to ensure that the transmitter is still going in the event of a 
collision at the far end of the cable. Fast Ethernet has the same 64-byte minimum frame size but can get the bits out 
ten times faster. How is it possible to maintain the same minimum frame size? 
A: In general, one has to play with the length of the delay allowed in the network.  
The maximum wire delay in fast Ethernet is 1/10 as long as in Ethernet. The faster the wire the shorter it must be to 
maintain the same frame sizes.
6. Sketch the Manchester encoding on a classic Ethernet for the bit stream 0001110101.  
A: The signal is a square wave with two values, high (H) and low (L). The pattern is 
LHLHLHHLHLHLLHHLLHHL.
7. Why is it that every Ethernet frame must be at least 512 bits (64 bytes) long? 
A: See Page 81 and Fig. 2.22 in textbook 1.
8. What is a collision domain in Ethernet?  
A: See Page 79  in textbook 1.
hw3-sol
17


## Page 18

ECE 361H1  FALL  2023           	                                                      Homework 4
GOAL:
The main goals of the module on logical link control  is to help you understand basic algorithms used in well-
known retransmission strategies and how to analyze them. You are also asked to read about technology aspects 
related to logical link control.  We focus on the analysis during lectures and will rely on your reading about 
technology.
READING:
Please read  the following pages from Textbook 1: Pages 47 to 76 (Section 2.5.2). We will cover most of the 
material in lectures, but not  details about some well-known standards (e.g., PPP, HDLC, SONET), which are 
covered in your reading.  We cover Section 2.5 first to address retransmission algorithms in detail.
PROBLEMS: 
1. Example of how even simple ARQ can really help efficiency: Suppose that network-layer packets are split 
into 10 link-layer packets (also called frames)  for transmission over a link. Assume that each link-layer packet 
transmission has 85% chance of arriving undamaged at the receiver and each transmission succeed independently 
of others.  Assume that the propagation delay over the link is  seconds, and the transmission time of each link-
level packet is .
Please answer the following questions: 
(a)What is the probability p that the network-layer packet is received correctly after the transmission of the 10 
link-layer packets used to transmit it over the link? 
(b)What is the average number of times (N)  that a network-layer packet has to be transmitted to be received 
successfully? 
(c) Assuming that each link-level packet is sent after   seconds from the end of the previous packet, what is the 
time 
 that it takes to transmit an entire network-level packet (whether or not it is received correctly) across the 
link?
(d)Assume that the sender “magically knows” whether or not it must retransmit an entire network-level packet. 
What is the average time C for the receiver to correctly receive a transmitted network-level packet?
(e) Assume that  SWP is used to retransmit link-level packets if they are not received correctly and that  the 
transmission of a link-level ACK lasts  seconds and the probability that an AK is transmitted correctly is 0.95. 
What is the average number of times (L) that a link-level packet must be transmitted to be received correctly?
(f) What is the average time  that it takes for a network-level packet to be received correctly when SWP is used 
over the link? You can assume 0 processing times for packets and ACKs, and that the retransmission timeout 
equals the minimum time (S) needed to send a packet and its ACK correctly over the link.
(g)Is using SWP across the link worth doing?
2. Framing overhead: What is the maximum overhead in the byte-stuffing algorithm?
3. Remembering algorithms for ARQ: Provide a pseudocode or flowchart description of SRP at the sender and at 
the receiver. Assume that an ACK specifies only the packet that the receiver just obtained from the sender.
4. Need for FIFO operation in ARQ methods we have discussed: 
Consider SWP (or alternating bit protocol). Draw an example (like those in the slides) showing that, if the link 
between sender and receiver can reorder packets somehow, the protocol does not work correctly. You should 
indicate the sequence number of each packet and the sequence number stated in each ACK. The fewer the packets 
you need to show being sent the better.
τ
δ
τ
Tn
α
Tl
hw4
18


## Page 19

ECE 361H1  FALL  2023           	                                                      Homework 4
5. Receiver-initiated ARQ: 
Provide a pseudocode or flowchart description of a receiver-initiated alternating bit protocol operating over FIFO 
links.
6. Analysis of receiver-initiated SWP:
Assume the same parameter values we used in class to compute the efficiency of sender-initiated SWP. Compute 
the efficiency of receiver-initiated SWP. What can you conclude comparing your result with the efficiency of 
sender-initiated SWP?
7. CRC-1: 
Consider a CRC in which the generator is 11.  What is CRC with generator 11 implementing? 
Hint: Consider message bit strings with different number of  1’s.
8. Computing and using the reminder in CRC: 
Suppose that message “10110011” is to be sent and protected with a CRC using the generator “10011”
Show the reminder computed at the sender and how the receiver uses the message shifted 8 positions together with 
the redundancy bits to determine that the received message is correct
9. SRP variant: 
A clever protocol designer decided to improve on the design of SRP to coper with the fact that the link over which 
it is being used has only a 0.5 probability that a transmitted packet and its ACK are received correctly over the link. 
The designer chose to use “stuttering,” which means that the sender sends two copies of each packet every time 
that the packet must be (re)transmitted, rather than just one copy. Compute the efficiency of this variant of SRP 
using the same approach and assumptions we discussed for SRP. Do you think the clever design is worth deploying 
over the link?
hw4
19


## Page 20

ECE 361H1  FALL  2023           	                                                      Homework 4
GOAL:
The main goals of the module on logical link control  is to help you understand basic algorithms used in well-
known retransmission strategies and how to analyze them. You are also asked to read about technology aspects 
related to logical link control.  We focus on the analysis during lectures and will rely on your reading about 
technology.
READING:
Please read  the following pages from Textbook 1: Pages 47 to 76 (Section 2.5.2). We will cover most of the 
material in lectures, but not  details about some well-known standards (e.g., PPP, HDLC, SONET), which are 
covered in your reading.  We cover Section 2.5 first to address retransmission algorithms in detail.
PROBLEMS: 
1. Example of how even simple ARQ can really help efficiency: Suppose that network-layer packets are split 
into 10 link-layer packets (also called frames)  for transmission over a link. Assume that each link-layer packet 
transmission has 85% chance of arriving undamaged at the receiver and each transmission succeed independently 
of others.  Assume that the propagation delay over the link is  seconds, and the transmission time of each link-
level packet is .
Please answer the following questions: 
(a)What is the probability p that the network-layer packet is received correctly after the transmission of the 10 
link-layer packets used to transmit it over the link? 
(b)What is the average number of times (N)  that a network-layer packet has to be transmitted to be received 
successfully? 
(c) Assuming that each link-level packet is sent after   seconds from the end of the previous packet, what is the 
time 
 that it takes to transmit an entire network-level packet (whether or not it is received correctly) across the 
link?
(d)Assume that the sender “magically knows” whether or not it must retransmit an entire network-level packet. 
What is the average time C for the receiver to correctly receive a transmitted network-level packet?
(e) Assume that  SWP is used to retransmit link-level packets if they are not received correctly and that  the 
transmission of a link-level ACK lasts  seconds and the probability that an AK is transmitted correctly is 0.95. 
What is the average number of times (L) that a link-level packet must be transmitted to be received correctly?
(f) What is the average time  that it takes for a network-level packet to be received correctly when SWP is used 
over the link? You can assume 0 processing times for packets and ACKs, and that the retransmission timeout 
equals the minimum time (S) needed to send a packet and its ACK correctly over the link.
(g)Is using SWP across the link worth doing?
A:
(a) 

(b) We notice that the transmission process renders the Geometric distribution because of our independence 
assumption. Hence, N = 1/p = 5 network-layer packet transmissions on average.
(c)

(d) The average time is 

(e) Let q be the probability that a link-level packet and its ACK are both received correctly. Because of 
independence we have 
.  Because we have again the Geometric distribution, it 
follows that L =  1/q  times or approximately 1.24 times
(f) We have that 
. From our lecture on SWP, given that the average retransmission timeout equals S 
in this case, we have that the average time to send a packet correctly over a link using SWP is 

τ
δ
τ
Tn
α
Tl
p = (0.85)10 = 0.197 ≈0.2
Tn = 10(δ + τ)
C = N × T = 50(δ + τ)
q = p × 0.95 = 0.8075 ≈0.81
S = δ + α + 2τ
Tl = S + 1 −q
q
S = S
q ≈1.24(δ + 2τ + α)
hw4-sol
20


## Page 21

ECE 361H1  FALL  2023           	                                                      Homework 4
The above result should be intuitive, because any transmission takes S seconds on average (with the assumptions 
made in this problem) and it takes 1.24 transmissions to receive a packet correctly on average.
(g)Yes! By design ACKs are much smaller than data packets, so it is clear that 
 even when propagation 
delays are long. In addition, there is no “magic” needed at the network layer. In practice, a retransmission 
strategy would be needed for entire packets anyway. Hence, breaking large packets into small ones that carry 
some protection makes sense.
2. Framing overhead: What is the maximum overhead in the byte-stuffing algorithm?
A: The maximum overhead occurs when the payload consists of only ESC and FLAG bytes. In this case, there will 
be 100% overhead
3. Remembering algorithms for ARQ: Provide a pseudocode or flowchart description of SRP at the sender and at 
the receiver. Assume that an ACK specifies only the packet that the receiver just obtained from the sender.
A: 
Sender's algorithm:
    1. Initiate sequence number PN to 0
    2. Wait until packets (up to W) are received from network layer; assign PN to them increasingly, 0,1,2,3...
    3. Transmit/Retransmit packets in buffer, but the difference of Max Seq# and Min Seq# must be less than W
    4. Start time out timers TO for transmitted packets and wait for corresponding ACKs from receiver
    5. If error-free ACK specifying a transmitted packet is received within timeout interval,
            then  Goto Step 2
        else Goto Step 3
Receiver's algorithm:
    1. While(True)
        {   
             if (packet is received)
                then if ( packet is compromised)
                          then discard this packet
                       else
                        {
                            if( Any packet/packets in buffer could be past to network in order)   
                                then give the packet/packets to network layer and send back ACK specifying the corresponding 
Seq#
                            else
                                keep this packet in buffer              
                        }
        }
4. Need for FIFO operation in ARQ methods we have discussed: 
Consider SWP (or alternating bit protocol). Draw an example (like those in the slides) showing that, if the link 
between sender and receiver can reorder packets somehow, the protocol does not work correctly. You should 
indicate the sequence number of each packet and the sequence number stated in each ACK. The fewer the packets 
you need to show being sent the better.
A: Assume that only os and 1s are used. The same argument applies to a larger sequence-number space.
Tl < Tn
hw4-sol
21


## Page 22

ECE 361H1  FALL  2023           	                                                      Homework 4

5. Receiver-initiated ARQ: 
Provide a pseudocode or flowchart description of a receiver-initiated alternating bit protocol operating over FIFO 
links.
A:
Receiver's algorithm:
    1. Poll sender S to see if S has any packet to transmit, Start a timeout(TO) timer for this round of polling
    2. if (packet is received within TO)
                then if ( packet is compromised)
                           then discard this packet
                       else
                           give this packet to network layer(ignored if duplicate)
                           send back ACK with the same Seq# 
        else 
                Goto   step 1
    3.Goto step 1          
Sender's algorithm:    
    1. Initiate sequence number PN to 0(or 1)
    2. Wait until packet is received from network layer; assign current PN to it
    3. Transmit/Retransmit packet, if polling message received from receiver R
    4. If error-free ACK specifying a transmitted packet is received
            then  Flip/Complement PN and Goto Step 2
        else Goto Step 3
6. Analysis of receiver-initiated SWP:
Assume the same parameter values we used in class to compute the efficiency of sender-initiated SWP. Compute 
the efficiency of receiver-initiated SWP. What can you conclude comparing your result with the efficiency of 
sender-initiated SWP?
A:
To simplify our reasoning, first note that we are looking at averages. At the beginning, the receiver sends an interest 
without any Ack to a prior packet. However, over time, the receiver sends interests that also include ACKs to prior 
packets. Hence,  the typical successful exchange is interest/ACK followed by a packet. This is the reverse of the 
packet followed by ACK of the sender-initiated SWP. The same basic analysis applies to the receiver-initiated SWP 
and the efficiency is the same. 
hw4-sol
22


## Page 23

ECE 361H1  FALL  2023           	                                                      Homework 4
7. CRC-1: 
Consider a CRC in which the generator is 11.  What is CRC with generator 11 implementing? 
Hint: Consider message bit strings with different number of  1’s.
A:
The CRC is 1 for a message with an odd number of 1’s and 0 for an even number of 1’s. Hence, CRC-1 is the same 
as a parity bit. 
8. Computing and using the reminder in CRC: 
Suppose that message “10110011” is to be sent and protected with a CRC using the generator “10011”
Show the reminder computed at the sender and how the receiver uses the message shifted 8 positions together with 
the redundancy bits to determine that the received message is correct
A:
At the sender:
At the receiver:

hw4-sol
23


## Page 24

ECE 361H1  FALL  2023           	                                                      Homework 4
9. SRP variant: 
A clever protocol designer decided to improve on the design of SRP to coper with the fact that the link over which 
it is being used has only a 0.5 probability that a transmitted packet and its ACK are received correctly over the link. 
The designer chose to use “stuttering,” which means that the sender sends two copies of each packet every time 
that the packet must be (re)transmitted, rather than just one copy. Compute the efficiency of this variant of SRP 
using the same approach and assumptions we discussed for SRP. Do you think the clever design is worth deploying 
over the link?
A:
Because p =0.5, 1 - p = 0.5 = q
The probability that at least one packet and its ACK is sent successfully over the link is then  

Using the same approach to compute the efficiency of the new SRP variant:

 and hence 

Let the time needed to transmit a packet be P, then the time needed to transmit or retransmit two copies of the 
packet  back to back (if the sender never stops) is 2P.
The average time needed to transmit a packet successfully is 
 and hence the efficiency of SRP with stuttering 
equals: 
 
The clever protocol designer was WRONG. Not so clever eh?… The efficiency of SRP with stuttering is LOWER 
(0.75/4) than the efficiency of basic SRP (0.5) when the buffer space is very large so that the sender never has to 
stop.
1 −q2
¯Y = 2(1 −q2) + q2(2 + ¯Y )
¯Y = 2(1 −q2) + q2(2 + ¯Y )
¯Y =
2
1 −q2
2P ¯Y
η =
P
2P ¯Y =
P
2P(1 −q2)−1 = 1 −q2
4
= 0.75
4
= 0.1875
hw4-sol
24


## Page 25

ECE 361H1  FALL  2023           	                                                      Homework 5
GOAL:
The main goals of the module on routing algorithms  is to help you understand basic algorithms used in well-
known routing protocols. 
READING:
Please complete the reading of Textbook 2 indicated at the start of our module on routing algorithms.
PROBLEMS: 
1. Consider the network shown below. The number near each link is its cost. Assume the SPF algorithm is run in 
the network.
For each node, order indicates the step taken in the SPF algorithm and cost indicates the distance from S to the 
node in the network. So, A is reached in the first step (order 1) and the shortest path has cost of 2. Complete the 
information for the rest of the network.
2. Which of the following tasks does a router R in a packet-switched network perform when it gets a packet with 
destination address D? Indicate True or False for each choice.
a) R looks up D in its routing table to determine the outgoing link.
b) R sends out a HELLO packet or a routing protocol advertisement to its neighbors.
c) R calculates the minimum-cost route to destination D.
d) R may discard the packet.
3. Chris Hacker manages UofT's campus network, which  that runs a routing protocol based on a  link-state routing 
algorithm. Chris wants to experiment with a few possible routing strategies. Of all possible paths available to a 
particular destination at a node, a routing strategy specifies the path that must be picked to create a routing table 
entry. Below is the name Chris has for each strategy and a brief description of how it works.
a) MinCost: Every node picks the path that has the smallest sum of link costs along the path. (This is the minimum 
cost routing you implemented in the lab). 
b) MinHop: Every node picks the path with the smallest number of hops (irrespective of what the cost on the links 
is). 
c) SecondMinCost: Every node picks the path with the second lowest sum of link costs. That is, every node picks 
the second best path with respect to path costs. 
d) MinCostSquared: Every node picks the path that has the smallest sum of squares of link costs along the path. 
Assume that sufficient information (e.g., costs, delays, bandwidths, and loss probabilities of the various links) is 
exchanged in the link state advertisements, so that every node has complete information about the entire network 
hw5
25


## Page 26

ECE 361H1  FALL  2023           	                                                      Homework 5
and can correctly implement the strategies above. You can also assume that a link's properties don't change, e.g., it 
doesn't fail.
Questions:
A) Help Chris figure out which of these strategies will work correctly, and which will result in routing with loops. 
In case of strategies that do result in routing loops, come up with an example network topology with a routing 
loop to convince Alyssa.
B) TRICKY BUT INTERESTING TO CONSIDER FOR FUN: How would you implement MinCostSquared in a 
distance-vector algorithm?
4. Source trees obtained at each router: The SPF algorithm runs in the following network.
Here is what the “source tree” at router C looks like after running SPF at that router using the topology 
information:
 
Provide the source tree obtained by router A for the same network.
5. Under some conditions, the DBF algorithm suffers from the "count-to- infinity" problem. Indicate True or False 
for each choice below.
(a) The counting-to-infinity problem may arise in the DBF  algorithm when the network gets partitioned. 
(b)The counting-to-infinity problem may arise in the DBF algorithm even when the network never gets 
disconnected.
(c) Any distance-vector routing algorithm is subject to temporary loops
(d)Using path information avoids the counting-to-infinity problem of DBF.
6. Why does the link-state advertisement include a sequence number? 
hw5
26


## Page 27

ECE 361H1  FALL  2023           	                                                      Homework 5
7. Other than using sequence numbers, how else do you think link state updates could be validated in a link-state 
algorithm? Meaning: how could a router decide that it should use the information it receives in a LSU it receives 
from a neighbor router over the information it has stored locally?
8. Consider the following small network and focus on destination d:
Show the state of the routing tables at each router for destination d when DBF, DSDV and DUAL are used and all 
the routers process updates stating the distance to destination d from all their neighbors. Assume that d used  
sequence number n to state a 0 distance to itself when DSDV is used.
9. In the same network of Problem 8,  assume that DBF is used and show at least 4 iterations of the routing state for 
destination d at the nodes when link (b, d) fails after all routers have attained a next hop and distance to destination 
d.
10. In the same network of Problem 8, assume that DSDV is used and show the routing state  that all routers attain 
for destination d after  link (b, d) fails and BEFORE destination d issues a new sequence number of n+2.
11. In the same network of Problem 8, assume that DUAL is used and show the routing state  that all routers attain 
for destination d after  link (b, d) fails.
hw5
27


## Page 28

ECE 361H1  FALL  2023           	                                                      Homework 5
GOAL:
The main goals of the module on routing algorithms  is to help you understand basic algorithms used in well-
known routing protocols. 
READING:
Please complete the reading of Textbook 2 indicated at the start of our module on routing algorithms.
PROBLEMS: 
1. Consider the network shown below. The number near each link is its cost. Assume the SPF algorithm is run in 
the network.
For each node, order indicates the step taken in the SPF 
algorithm and cost indicates the distance from S to the node in the network. So, A is reached in the first step (order 
1) and the shortest path has cost of 2. Complete the information for the rest of the network.
A: 
A: order = 1, cost = 2
E: order = 2, cost = 3
B: order = 3, cost = 4
C: order = 4, cost = 5
D: order = 5, cost = 6
2. Which of the following tasks does a router R in a packet-switched network perform when it gets a packet with 
destination address D? Indicate True or False for each choice.
a) R looks up D in its routing table to determine the outgoing link.
b) R sends out a HELLO packet or a routing protocol advertisement to its neighbors.
c) R calculates the minimum-cost route to destination D.
d) R may discard the packet.
A: 
True, False, False, True
3. Chris Hacker manages UofT's campus network, which  that runs a routing protocol based on a  link-state routing 
algorithm. Chris wants to experiment with a few possible routing strategies. Of all possible paths available to a 
particular destination at a node, a routing strategy specifies the path that must be picked to create a routing table 
entry. Below is the name Chris has for each strategy and a brief description of how it works.
hw5-sol
28


## Page 29

ECE 361H1  FALL  2023           	                                                      Homework 5
a) MinCost: Every node picks the path that has the smallest sum of link costs along the path. (This is the minimum 
cost routing you implemented in the lab). 
b) MinHop: Every node picks the path with the smallest number of hops (irrespective of what the cost on the links 
is). 
c) SecondMinCost: Every node picks the path with the second lowest sum of link costs. That is, every node picks 
the second best path with respect to path costs. 
d) MinCostSquared: Every node picks the path that has the smallest sum of squares of link costs along the path. 
Assume that sufficient information (e.g., costs, delays, bandwidths, and loss probabilities of the various links) is 
exchanged in the link state advertisements, so that every node has complete information about the entire network 
and can correctly implement the strategies above. You can also assume that a link's properties don't change, e.g., it 
doesn't fail.
Questions:
A) Help Chris figure out which of these strategies will work correctly, and which will result in routing with loops. 
In case of strategies that do result in routing loops, come up with an example network topology with a routing 
loop to convince Alyssa.
A: All except SecondMinCost will work fine.
To see why SecondMinCost will not work: consider the triangle topology with 3 nodes A, B, D, and equal cost on 
all the links. The second route at A to D is via B, and the second best route at B to D is via A, resulting in a routing 
loop.
B) TRICKY BUT INTERESTING TO CONSIDER FOR FUN: How would you implement MinCostSquared in a 
distance-vector algorithm?
A:  ONE WAY: To implement MinCostSquared, your integrate_announcement routine could add the square of the 
link cost (instead of just the link cost) to any route costs advertised over that link.  
4. Source trees obtained at each router: The SPF algorithm runs in the following network.
Here is what the “source tree” at router C looks like after running SPF at that router using the topology 
information:
 
Provide the source tree obtained by router A for the same network.
hw5-sol
29


## Page 30

ECE 361H1  FALL  2023           	                                                      Homework 5
A:
5. Under some conditions, the DBF algorithm suffers from the "count-to- infinity" problem. Indicate True or False 
for each choice below.
(a) The counting-to-infinity problem may arise in the DBF  algorithm when the network gets partitioned. 
(b)The counting-to-infinity problem may arise in the DBF algorithm even when the network never gets 
disconnected.
(c) Any distance-vector routing algorithm is subject to temporary loops
(d)Using path information avoids the counting-to-infinity problem of DBF.
A:
True, false, false, true
6. Why does the link-state advertisement include a sequence number? 
A: To enable a node to determine whether the advertisement is new or not; only new information should be 
integrated into the topology table.
7. Other than using sequence numbers, how else do you think link state updates could be validated in a link-state 
algorithm? Meaning: how could a router decide that it should use the information it receives in a LSU it receives 
from a neighbor router over the information it has stored locally?
A: One possible approach is using the distance from the router to the head of the link in the LSU. The router could 
be allowed to trust the LSU over its local information of the distance to the head of the link in the LSU is shorter of 
equal to its current distance to the same head of the link based on the local copy of the topology.
8. Consider the following small network and focus on destination d:
Show the state of the routing tables at each router for destination d when DBF, DSDV and DUAL are used and all 
the routers process updates stating the distance to destination d from all their neighbors. Assume that d used  
sequence number n to state a 0 distance to itself when DSDV is used.
hw5-sol
30


## Page 31

ECE 361H1  FALL  2023           	                                                      Homework 5
9. In the same network of Problem 8,  assume that DBF is used and show at least 4 iterations of the routing state for 
destination d at the nodes when link (b, d) fails after all routers have attained a next hop and distance to destination 
d.
A:
10. In the same network of Problem 8, assume that DSDV is used and show the routing state  that all routers attain 
for destination d after  link (b, d) fails and BEFORE destination d issues a new sequence number of n+2.
A:
hw5-sol
31


## Page 32

ECE 361H1  FALL  2023           	                                                      Homework 5
11. In the same network of Problem 8, assume that DUAL is used and show the routing state  that all routers attain 
for destination d after  link (b, d) fails.
A:
hw5-sol
32


## Page 33

ECE 361H1  FALL  2023           	                                                      Homework 6
GOAL:
This homework covers the data and control planes of the Internet and bridges.
READING:
Please complete the reading of  the sections of Textbook 1 indicated at the start of  each lecture in the modules on 
Internet and routing protocols.
PROBLEMS: 
1. What are the main functions of the data plane and the control plane? 
2. Suppose Host A sends Host B a TCP segment encapsulated in an IP data- gram. When Host B receives the 
datagram, how does the network layer in Host B know it should pass the segment (that is, the payload of the 
datagram) to TCP rather than to UDP or to some other upper-layer protocol?  
3. What field in the IP header can be used to ensure that a packet is forwarded through no more than N routers? 
4. When a large datagram is fragmented into multiple smaller datagrams, where are these smaller datagrams 
reassembled into a single larger datagram?  
5. What is the 32-bit binary equivalent of the IP address 223.1.3.27?  
6. What is meant by the term “route aggregation”? Why is it useful for a router to perform route aggregation?  
7. What is the “count to infinity” problem in distance vector routing?  
8. Is it necessary that every autonomous system use the same intra-AS routing algorithm? Why or why not?  
9. Describe why  different inter-AS and intra-AS protocols are used in the Internet from the policy, scaling and 
performance perspectives. 
10. True or false: When an OSPF router sends its link state information, it is sent to the entire AS in which it 
resides, even when areas are used.
11. What is meant by an area in an OSPF autonomous system? Why was the concept of an area introduced? 
12. Define and contrast the following terms: subnet, prefix, and BGP route. 
13. True or False: BGP is a loop-free routing protocol for routing across ASes
14. What are the main objectives of using ICMP in the control plane?
15. True or False: ARP uses UDP to support its transaction-oriented nature.
16. OSPF implements its own reliability mechanisms for the exchange of topology information. Why do you think 
that is the case? Could TCP have been used to support OSPF?
17. What is the Maximum Transmission Unit (MTU) for an IP datagram on classic Ethernet?
18. Describe how loops in paths can be detected in BGP. 
hw6
33


## Page 34

ECE 361H1  FALL  2023           	                                                      Homework 6
19. Does a BGP router always choose the loop-free route with the shortest AS path length? Justify your answer. 
20. Consider the following Internet based on bridges. 
Show the HELLOs that bridge 10 receives over each of its ports, the HELLO that bridge 10 advertises, the root 
port and the ports for which bridge 10 is the designated bridge.
hw6
34


## Page 35

ECE 361H1  FALL  2023           	                                                      Homework 6
GOAL:
This homework covers the data and control plane of the Internet and bridges.
READING:
Please complete the reading of  the sections of Textbook 1 indicated at the start of  each lecture in the modules on 
Internet and routing protocols.
PROBLEMS: 
1. What are the main functions of the data plane and the control plane? 
A: The main function of the data plane is to forward datagrams from their input links to their output links. The 
main function of the control plane is routing, which is to determine the paths a packet takes from its source to its 
destination. 
2. Suppose Host A sends Host B a TCP segment encapsulated in an IP data- gram. When Host B receives the 
datagram, how does the network layer in Host B know it should pass the segment (that is, the payload of the 
datagram) to TCP rather than to UDP or to some other upper-layer protocol?  
A: The 8-bit protocol field in the IP datagram contains information about which transport layer protocol the 
destination host should pass the segment to.  
3. What field in the IP header can be used to ensure that a packet is forwarded through no more than N routers?  
A: The TTL field
4. When a large datagram is fragmented into multiple smaller datagrams, where are these smaller datagrams 
reassembled into a single larger datagram?  
A: The reassembly of the fragments of an IP datagram is done in the datagram’s destination host.  
5. What is the 32-bit binary equivalent of the IP address 223.1.3.27?  
A: 11011111 00000001 00000011 00011100.  
6. What is meant by the term “route aggregation”? Why is it useful for a router to perform route aggregation?  
A: Route aggregation means that an ISP uses a single prefix to advertise multiple networks. Route aggregation is 
useful because an ISP can use this technique to advertise to the rest of the Internet a single prefix address for the 
multiple networks that the ISP has.  
7. What is the “count to infinity” problem in distance vector routing?  
A: The count-to-infinity problem refers to a problem of distance vector routing. The problem means that it takes a 
long time for a distance vector routing algorithm to converge when there is a link cost increase.  
8. Is it necessary that every autonomous system use the same intra-AS routing algorithm? Why or why not?  
A: No. Each AS has administrative autonomy for routing within an AS.  
hw6-sol
35


## Page 36

ECE 361H1  FALL  2023           	                                                      Homework 6
9. Describe why  different inter-AS and intra-AS protocols are used in the Internet from the policy, scaling and 
performance perspectives. 
A: Policy: Among ASes, policy issues dominate. It may well be important that traffic originating in a given AS not 
be able to pass through another specific AS. Within an AS, everything is nominally under the same administrative 
control and thus policy issues a much less important role in choosing routes with in AS. 
Scale: The ability of a routing algorithm and its data structures to scale to handle routing to/among large numbers 
of networks is a critical issue in inter-AS routing. Within an AS, scalability is less of a concern. 
Performance: Because inter-AS routing is so policy oriented, the quality (for example, performance) of the routes 
used is often of secondary concern (that is, a longer or more costly route that satisfies certain policy criteria may 
well be taken over a route that is shorter but does not meet that criteria). 
10. True or false: When an OSPF router sends its link state information, it is sent to the entire AS in which it 
resides, even when areas are used.
A: False. Different routers have different views of the AS topology.
11. What is meant by an area in an OSPF autonomous system? Why was the concept of an area introduced? 
A: An area in an OSPF autonomous system is refers to a set of routers, in which each router broadcasts its link state 
to all other routers in the same set. An OSPF AS can be configured hierarchically into multiple areas, with each 
area running its own OSPF link-state routing algorithm. Within each area, one or more area border routers are 
responsible for routing packets outside the area. The concept of area is introduced for scalability reason, i.e., we 
would like to build a hierarchical routing for a large scale OSPF AS, and an area is an important building block in 
hierarchical routing.
12. Define and contrast the following terms: subnet, prefix, and BGP route. 
A: A subnet is a portion of a larger network; a subnet does not contain a router; its boundaries are defined by the 
router and host interfaces. A prefix is the network portion of a CDIR-based address; it is written in the form a.b.c.d/
x . A prefix covers one or more subnets. When a router advertises a prefix across a BGP session, it includes with 
the prefix a number of BGP attributes. In BGP jargon, a prefix along with its attributes is a BGP route (or simply a 
route). 
13. True or False: BGP is a loop-free routing protocol for routing across ASes
A: False. BGP uses path information to detect routing loops. It  cannot prevent them.
14. What are the main objectives of using ICMP in the control plane?
A: Error reporting and diagnostics 
15. True or False: ARP uses UDP to support its transaction-oriented nature.
A: False. ARP is encapsulated by the link layer.
16. OSPF implements its own reliability mechanisms for the exchange of topology information. Why do you think 
that is the case? Could TCP have been used to support OSPF?
A: By not assuming that the link layer provides reliability, OSPF can work over any link-level protocol. The 
strategy allows for the introduction of  steps aimed at reducing signaling overhead while maintaining reliable 
delivery of topology information between neighbor OSPF routers. Using TCP  to support reliable communication 
among OSPF routers would incur too much signaling, especially over broadcast subnets with multiple OSPF 
routers, which would require N^2 connections with N routers in the subnet. 
17. What is the Maximum Transmission Unit (MTU) for an IP datagram on classic Ethernet?
A: 1500 bytes 
hw6-sol
36


## Page 37

ECE 361H1  FALL  2023           	                                                      Homework 6
18. Describe how loops in paths can be detected in BGP. 
A:  Since full AS path information is available from an AS to a destination in BGP, loop detection is simple – if a 
BGP peer receives a route that contains its own AS number in the AS path, then using that route would result in a 
loop. 
19. Does a BGP router always choose the loop-free route with the shortest AS path length? Justify your answer. 
A: The chosen path is not necessarily the shortest AS-path. It is possible that a longer loop-free path is preferred 
over a shorter loop-free path due to policies. 
20. Consider the following Internet based on bridges. 
Show the HELLOs that bridge 10 receives over each of its ports, the HELLO that bridge 10 advertises, the root 
port and the ports for which bridge 10 is the designated bridge.
A: Ports in forwarding mode are shown in red. Bridge 10 is not a designated bridge for any port. The HELLOs that 
each bridge could transmit is shown next to each bridge.
hw6-sol
37

